{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tomer\\\\Desktop\\\\SimpliFyTable\\\\usepagination\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\nimport DataTable from \"react-data-table-component\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst removeItem = (array, item) => {\n  const newArray = array.slice();\n  newArray.splice(newArray.findIndex(a => a === item), 1);\n  return newArray;\n};\n\nconst AdvancedPaginationTable = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [totalRows, setTotalRows] = useState(0);\n  const [perPage, setPerPage] = useState(10);\n  const [currentPage, setCurrentPage] = useState(1); // const [deleted, setDeleted] = useState([]);\n\n  const fetchUsers = async function (page) {\n    let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : perPage;\n    setLoading(true);\n    const response = await axios.get(`https://reqres.in/api/users?page=${page}&per_page=${size}&delay=1`);\n    setData(response.data.data);\n    setTotalRows(response.data.total);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchUsers(1);\n  }, []);\n  const handleDelete = useCallback(row => async () => {\n    await axios.delete(`https://reqres.in/api/users/${row.id}`);\n    const response = await axios.get(`https://reqres.in/api/users?page=${currentPage}&per_page=${perPage}`);\n    setData(removeItem(response.data.data, row));\n    setTotalRows(totalRows - 1);\n  }, [currentPage, perPage, totalRows]);\n  const columns = useMemo(() => [{\n    name: \"First Name\",\n    selector: \"first_name\",\n    sortable: true\n  }, {\n    name: \"Last Name\",\n    selector: \"last_name\",\n    sortable: true\n  }, {\n    name: \"Email\",\n    selector: \"email\",\n    sortable: true\n  }, {\n    // eslint-disable-next-line react/button-has-type\n    cell: row => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete(row),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }, this)\n  }], [handleDelete]);\n\n  const handlePageChange = page => {\n    fetchUsers(page);\n    setCurrentPage(page);\n  };\n\n  const handlePerRowsChange = async (newPerPage, page) => {\n    fetchUsers(page, newPerPage);\n    setPerPage(newPerPage);\n  };\n\n  return /*#__PURE__*/_jsxDEV(DataTable, {\n    title: \"Users\",\n    columns: columns,\n    data: data,\n    progressPending: loading,\n    pagination: true,\n    paginationServer: true,\n    paginationTotalRows: totalRows,\n    paginationDefaultPage: currentPage,\n    onChangeRowsPerPage: handlePerRowsChange,\n    onChangePage: handlePageChange,\n    selectableRows: true,\n    onSelectedRowsChange: _ref => {\n      let {\n        selectedRows\n      } = _ref;\n      return console.log(selectedRows);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AdvancedPaginationTable, \"pqYFWmjK55/wyZKmrpTeVDi2pUw=\");\n\n_c = AdvancedPaginationTable;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AdvancedPaginationTable, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AdvancedPaginationTable\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","ReactDOM","axios","DataTable","removeItem","array","item","newArray","slice","splice","findIndex","a","AdvancedPaginationTable","data","setData","loading","setLoading","totalRows","setTotalRows","perPage","setPerPage","currentPage","setCurrentPage","fetchUsers","page","size","response","get","total","handleDelete","row","delete","id","columns","name","selector","sortable","cell","handlePageChange","handlePerRowsChange","newPerPage","selectedRows","console","log","App"],"sources":["C:/Users/Tomer/Desktop/SimpliFyTable/usepagination/src/App.js"],"sourcesContent":["\nimport './App.css';\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\nimport DataTable from \"react-data-table-component\";\nimport \"./style.css\";\nconst removeItem = (array, item) => {\n    const newArray = array.slice();\n    newArray.splice(newArray.findIndex(a => a === item), 1);\n\n    return newArray;\n};\n\nconst AdvancedPaginationTable = () => {\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [totalRows, setTotalRows] = useState(0);\n    const [perPage, setPerPage] = useState(10);\n    const [currentPage, setCurrentPage] = useState(1);\n    // const [deleted, setDeleted] = useState([]);\n\n    const fetchUsers = async (page, size = perPage) => {\n        setLoading(true);\n\n        const response = await axios.get(\n            `https://reqres.in/api/users?page=${page}&per_page=${size}&delay=1`\n        );\n\n        setData(response.data.data);\n        setTotalRows(response.data.total);\n        setLoading(false);\n    };\n\n    useEffect(() => {\n        fetchUsers(1);\n    }, []);\n\n    const handleDelete = useCallback(\n        row => async () => {\n            await axios.delete(`https://reqres.in/api/users/${row.id}`);\n            const response = await axios.get(\n                `https://reqres.in/api/users?page=${currentPage}&per_page=${perPage}`\n            );\n\n            setData(removeItem(response.data.data, row));\n            setTotalRows(totalRows - 1);\n        },\n        [currentPage, perPage, totalRows]\n    );\n\n    const columns = useMemo(\n        () => [\n            {\n                name: \"First Name\",\n                selector: \"first_name\",\n                sortable: true\n            },\n            {\n                name: \"Last Name\",\n                selector: \"last_name\",\n                sortable: true\n            },\n            {\n                name: \"Email\",\n                selector: \"email\",\n                sortable: true\n            },\n            {\n                // eslint-disable-next-line react/button-has-type\n                cell: row => <button onClick={handleDelete(row)}>Delete</button>\n            }\n        ],\n        [handleDelete]\n    );\n\n    const handlePageChange = page => {\n        fetchUsers(page);\n        setCurrentPage(page);\n    };\n\n    const handlePerRowsChange = async (newPerPage, page) => {\n        fetchUsers(page, newPerPage);\n        setPerPage(newPerPage);\n    };\n\n    return (\n        <DataTable\n            title=\"Users\"\n            columns={columns}\n            data={data}\n            progressPending={loading}\n            pagination\n            paginationServer\n            paginationTotalRows={totalRows}\n            paginationDefaultPage={currentPage}\n            onChangeRowsPerPage={handlePerRowsChange}\n            onChangePage={handlePageChange}\n            selectableRows\n            onSelectedRowsChange={({ selectedRows }) => console.log(selectedRows)}\n        />\n    );\n};\n\nfunction App() {\n  return (\n    <div className=\"App\">\n          <AdvancedPaginationTable />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}