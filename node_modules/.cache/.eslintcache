[{"C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\index.js":"1","C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\App.js":"2","C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\reportWebVitals.js":"3"},{"size":535,"mtime":1654704955803,"results":"4","hashOfConfig":"5"},{"size":3125,"mtime":1654705692424,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1654704955992,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1wiwdyn",{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\index.js",[],[],"C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\App.js",["18","19"],[],"\nimport './App.css';\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\nimport DataTable from \"react-data-table-component\";\nimport \"./style.css\";\nconst removeItem = (array, item) => {\n    const newArray = array.slice();\n    newArray.splice(newArray.findIndex(a => a === item), 1);\n\n    return newArray;\n};\n\nconst AdvancedPaginationTable = () => {\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [totalRows, setTotalRows] = useState(0);\n    const [perPage, setPerPage] = useState(10);\n    const [currentPage, setCurrentPage] = useState(1);\n    // const [deleted, setDeleted] = useState([]);\n\n    const fetchUsers = async (page, size = perPage) => {\n        setLoading(true);\n\n        const response = await axios.get(\n            `https://reqres.in/api/users?page=${page}&per_page=${size}&delay=1`\n        );\n\n        setData(response.data.data);\n        setTotalRows(response.data.total);\n        setLoading(false);\n    };\n\n    useEffect(() => {\n        fetchUsers(1);\n    }, []);\n\n    const handleDelete = useCallback(\n        row => async () => {\n            await axios.delete(`https://reqres.in/api/users/${row.id}`);\n            const response = await axios.get(\n                `https://reqres.in/api/users?page=${currentPage}&per_page=${perPage}`\n            );\n\n            setData(removeItem(response.data.data, row));\n            setTotalRows(totalRows - 1);\n        },\n        [currentPage, perPage, totalRows]\n    );\n\n    const columns = useMemo(\n        () => [\n            {\n                name: \"First Name\",\n                selector: \"first_name\",\n                sortable: true\n            },\n            {\n                name: \"Last Name\",\n                selector: \"last_name\",\n                sortable: true\n            },\n            {\n                name: \"Email\",\n                selector: \"email\",\n                sortable: true\n            },\n            {\n                // eslint-disable-next-line react/button-has-type\n                cell: row => <button onClick={handleDelete(row)}>Delete</button>\n            }\n        ],\n        [handleDelete]\n    );\n\n    const handlePageChange = page => {\n        fetchUsers(page);\n        setCurrentPage(page);\n    };\n\n    const handlePerRowsChange = async (newPerPage, page) => {\n        fetchUsers(page, newPerPage);\n        setPerPage(newPerPage);\n    };\n\n    return (\n        <DataTable\n            title=\"Users\"\n            columns={columns}\n            data={data}\n            progressPending={loading}\n            pagination\n            paginationServer\n            paginationTotalRows={totalRows}\n            paginationDefaultPage={currentPage}\n            onChangeRowsPerPage={handlePerRowsChange}\n            onChangePage={handlePageChange}\n            selectableRows\n            onSelectedRowsChange={({ selectedRows }) => console.log(selectedRows)}\n        />\n    );\n};\n\nfunction App() {\n  return (\n    <div className=\"App\">\n          <AdvancedPaginationTable />\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Tomer\\Desktop\\SimpliFyTable\\usepagination\\src\\reportWebVitals.js",[],[],{"ruleId":"20","severity":1,"message":"21","line":4,"column":8,"nodeType":"22","messageId":"23","endLine":4,"endColumn":16},{"ruleId":"24","severity":1,"message":"25","line":37,"column":8,"nodeType":"26","endLine":37,"endColumn":10,"suggestions":"27"},"no-unused-vars","'ReactDOM' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.","ArrayExpression",["28"],{"desc":"29","fix":"30"},"Update the dependencies array to be: [fetchUsers]",{"range":"31","text":"32"},[1115,1117],"[fetchUsers]"]